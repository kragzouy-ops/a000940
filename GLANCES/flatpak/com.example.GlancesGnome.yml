app-id: com.example.GlancesGnome
runtime: org.gnome.Platform
runtime-version: "46"
sdk: org.gnome.Sdk
command: glances-gnome
finish-args:
- --share=network # accès à 127.0.0.1
modules:
- name: app
buildsystem: simple
build-commands:
- pip3 install --no-build-isolation --prefix=/app .
- install -Dm644 data/com.example.GlancesGnome.desktop /app/share/applications/com.example.GlancesGnome.desktop
- install -Dm644 data/com.example.GlancesGnome.metainfo.xml /app/share/metainfo/com.example.GlancesGnome.metainfo.xml
- install -Dm644 data/icons/com.example.GlancesGnome.png /app/share/icons/hicolor/512x512/apps/com.example.GlancesGnome.png
sources:
- type: dir
path: ..
- name: python3-deps
buildsystem: simple
build-commands:
- pip3 install --no-cache-dir --prefix=/app glances bottle jinja2 psutil requests
